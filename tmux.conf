# Change prefix to screen, alter vi bindings
set -g prefix C-a
set-window-option -g mode-keys vi

# Support terminal coloring
set -g default-terminal "xterm-256color"

# Change to sensible splits
unbind %
bind - split-window -v
bind | split-window -h

# Prevent accidental switching of panes if key repeat
set -g escape-time 5

# Mouse config
set -g mode-mouse on
set -g mouse-select-pane on
set -g mouse-resize-pane on

# Navigate between panes/vim windows using Alt + [jkhl] | arrows
bind-key -n C-j run 'bash ~/.bin/vim-tmux-move.bash j'
bind-key -n C-k run 'bash ~/.bin/vim-tmux-move.bash k'
bind-key -n C-h run 'bash ~/.bin/vim-tmux-move.bash h'
bind-key -n C-l run 'bash ~/.bin/vim-tmux-move.bash l'
bind-key -n C-Down run 'bash ~/.bin/vim-tmux-move.bash j'
bind-key -n C-Up run 'bash ~/.bin/vim-tmux-move.bash k'
bind-key -n C-Left run 'bash ~/.bin/vim-tmux-move.bash h'
bind-key -n C-Right run 'bash ~/.bin/vim-tmux-move.bash l'

# Fix pbcopy
set-option -g default-command "which reattach-to-user-namespace &>/dev/null && reattach-to-user-namespace -l bash"

# List of plugins
# Supports `github_username/repo` or full git URLs
set -g @tpm_plugins "               \
  tmux-plugins/tpm                  \
  tmux-plugins/tmux-resurrect       \
"

# Initializes TMUX plugin manager
run-shell ~/.tmux/plugins/tpm/tpm

# Configure resurrect!
run-shell ~/clone/path/resurrect.tmux
set -g @resurrect-strategy-vim "session"
